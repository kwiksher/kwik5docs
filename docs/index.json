[{"uri":"https://kwiksher.github.io/kwik5docs/bookstore/components/","title":"Components","tags":[],"description":"","content":"Components bookstore consists of the following files and modules\nPhotoshop files library.psd dialog.psd table.psd Solar2D components model view controller Photoshop files library.psd dialog.psd table.psd Solar2D components App/bookTOC\n├── App │ ├── bookFree │ ├── bookOne │ ├── bookTOC | ├── components | | ├── library | | | ├── pages | | | └── bookstore.lua ⭐️ | | └── dialog | └── scenes | ├── library | | ├── bg.lua | | ├── bookFreeIcon.lua | | ├── bookOneIcon.lua | | ├── downloadBtn.lua | | ├── purchaseBtn.lua | | ├── restoreBtn.lua | | ├── savedBtn.lua | | ├── savingTxt.lua | | └── index.lua　⭐️ | └── dialog | ├── bg.lua | ├── bookIcon.lua | ├── downloadBtn.lua | ├── hideOverlayBtn.lua | ├── infoTxt.lua | ├── purchaseBtn.lua | ├── savedBtn.lua | ├── savingTxt.lua | └── inddx.lua │ ├── components ├── bookstore ├── controller ├── model ├── smc ├── view ├── index.lua └── model.lua ⭐️ bookstore component is defined in components.pages table. This calls bookstore.lua\nApp/bookTOC/scenes/library/index.lua\nlocal sceneName = ... -- local scene = require(\u0026#39;controller.scene\u0026#39;).new(sceneName, { name = \u0026#34;library\u0026#34;, layers = { { bg ={ } }, { bookIcon ={ } }, ... ... }, components = { audios = { }, groups = { }, timers = { }, variables = { }, pages = { \u0026#34;bookstore\u0026#34; } }, events = { }, onInit = function(scene) print(\u0026#34;onInit\u0026#34;) end }) -- return scene App/bookTOC/components/libary/pages/bookstore.lua\nlocal _M = {} local bookstore = require(\u0026#34;components.bookstore.index\u0026#34;).new() -- function _M:init(UI) end -- function _M:create(UI) local sceneGroup = UI.scene.view local layers = UI.layers -- --for k, v in pairs(UI.props) do print(k, v) end bookstore:init(sceneGroup, UI.props) end -- function _M:didShow(UI) local layers = UI.layers bookstore:setSceneGroup(UI.scene.view) end -- -- function _M:toDispose(UI) bookstore:destory() end -- return _M bookstore.lua calls components.bookstore.model\nmodel Please fill the bookstore model with values of each book\ncompoents/bookstore/index.lua\nlocal M = {} -- local pageCommand = require(\u0026#34;components.bookstore.controller.pageCommand\u0026#34;) local model = require(\u0026#34;components.bookstore.model.base\u0026#34;) -- model.debug = true model.URL = \u0026#34;http://localhost:8080/bookshop/\u0026#34; -- model.URL = nil means simple IAP store without network download -- downloadBtn, savingTxt won\u0026#39;T be used. You don\u0026#39;t need to create them. ---------- model.TOC = \u0026#34;bookTOC\u0026#34; model.LIBRARY_PAGES = {en = \u0026#34;scenes.library\u0026#34;} model.DIALOG_PAGES = {en = \u0026#34;scenes.dialog\u0026#34;} -- model.name = \u0026#34;catalog01\u0026#34; -- model.books = { bookFree = { name = \u0026#34;bookFree\u0026#34;, versions = {}, titles = {en=\u0026#34;bookOne\u0026#34;}, descriptions = {en=\u0026#34;desc\u0026#34;}, isFree = true, isOnlineImg = true, isDownloadable = true, image = \u0026#34;App/bookFree/assets/images/page1/bg.png\u0026#34;, productNames = {apple = \u0026#34;bookFree\u0026#34;, google = \u0026#34;bookFree\u0026#34;, amazon = \u0026#34;bookFree\u0026#34;}, }, bookOne = { name = \u0026#34;bookOne\u0026#34;, versions = {}, titles = {en=\u0026#34;bookOne\u0026#34;}, descriptions = {en=\u0026#34;desc\u0026#34;}, isFree = false, isOnlineImg = true, -- true isDownloadable = true, -- true image = \u0026#34;App/bookOne/assets/images/page1/bg.png\u0026#34;, productNames = {apple = \u0026#34;bookOne\u0026#34;, google = \u0026#34;bookOne\u0026#34;, amazon = \u0026#34;bookOne\u0026#34;}, } } -- model.purchaseAlertMessages = {en=\u0026#34;Your purchase was successful\u0026#34;} model.restoreAlertMessages = {en=\u0026#34;Your items are being restored\u0026#34;} model.downloadErrorMessages = {en=\u0026#34;Check network alive to download the content\u0026#34;} model.descriptions = {en=\u0026#34;\u0026#34;} model.titles = {en=\u0026#34;\u0026#34;} -- model.gotoSceneEffect = \u0026#34;slideRight\u0026#34; model.showOverlayEffect = \u0026#34;slideBottom\u0026#34; -- M.new = function() return pageCommand.newBookstore(model) end -- M.model = model -- return M debug\nif true, IAPBadger is in debug mode.\nURL\nif book assets are downlodable, please set the server url\nLIBRARY_PAGES\nbookstore shows one of library page with lang value\nDIALOG_PAGES\nbookstore shows one of dialog with lang value\nname\nthe name for IAP catalog. You may create another model.lua with a differnet name\nbooks\nname\nversions\nyou can put language codes for multilingual books.\nyou may invent a new lang code for versions. For example, instead of language code, use blue, red, gree of colors as version\ntitles\ndescriptions\nisFree\ntrue or falase\nisOnlineImg\nif true, thumbnail image is loaded with the following given path in App folder\nif false, from URL ..\u0026quot;/\u0026quot;..image\nimage\nthumbnail image path\nproductNames\nif debug is false, productNames should be replaced with values of Apple store, Google play, Amazon store\nview You would like to customize the looks\nmarker\nupdateText\ncomponents/bookstore/view/marker.lua\nlocal M = {} -- function M.new (dst, group) print(dst, group) if dst.updateMark == nil then local obj = display.newCircle(0,0,4) obj.x = dst.x + dst.width/2 obj.y = dst.y - dst.height/2 obj:setFillColor(1,0,0) group:insert(obj) dst.updateMark = obj else dst.updateMark.alpha = 1 end end --- return M components/bookstore/view/spinner.lua\nlocal M = {} -- function M.new (host) local obj = {} local spinner obj.host = host -- function obj:show(host) if not spinner then spinner = display.newGroup() local hostName = host or obj.host or \u0026#34;\u0026#34; --Place a progress spinner on screen and tell the user the app is contating the store local spinnerBackground = display.newRect(0,0,360,600) spinnerBackground:setFillColor(1,1,1,0.75) --Spinner consumes all taps so the user cannot tap the purchase button twice spinnerBackground:addEventListener(\u0026#34;tap\u0026#34;, function() return true end) local spinnerText = display.newText(\u0026#34;Contacting \u0026#34; .. hostName .. \u0026#34;...\u0026#34;, 0, -20, native.systemFont, 18) spinnerText:setFillColor(0,0,0) --Add a little spinning rectangle local spinnerRect = display.newRect(0, 0,35,35) spinnerRect:setFillColor(0, 0) spinnerRect:setStrokeColor(1,1,1) spinnerRect.strokeWidth = 2 transition.to(spinnerRect, { time=4000, rotation=360, iterations=999999, transition=easing.inOutQuad}) --Create a group and add all these objects to it spinner:insert(spinnerBackground) spinner:insert(spinnerText) spinner:insert(spinnerRect) spinner.x, spinner.y = _W/2, _H/2 spinner.spinnerText = spinnerText end end updateText\nstartTime: the start time of a book download size: the size in progress bookSize:the total size of assets of a book function obj:updateText() local percent = self.size/self.bookSize local sec = os.difftime( os.time(), self.startTime) local remain = math.floor(sec * (1.0/percent)) local time = os.date(\u0026#34;*t\u0026#34;, remain) self.spinnerText.text = math.floor(percent*100)..\u0026#34; % (\u0026#34; ..self.size ..\u0026#34;/\u0026#34; ..self.bookSize ..\u0026#34; Mb) \\n left \u0026#34; ..time.min..\u0026#34;:\u0026#34;..time.sec end controller These functions are available for page\u0026amp;book navigation. You can set it for an event action.\ncomponents/bookstore/controller/pageCommand.lua gotoTOC() showView(page, options) gotoSceneBook(book, page, version) gotoSceneNextBook(version) gotoScenePreviousBook(version) gotoScene(event, version) event = {target = {selectedPurchase= \u0026ldquo;bookOne\u0026rdquo;}} "},{"uri":"https://kwiksher.github.io/kwik5docs/","title":"Home","tags":[],"description":"","content":"Kwik5 consists of the following two tools,\nKwik exporter for Adobe Photoshop UXP plugin\nit publishes images(1x, 2x, 4x) and lua files of layer properties (x, y, width, height) to a selected App/book folder of a Solar2D project.\nkwik Visual Code editor for Solar2D\nthe publsiehd project from Kwik exporter has an editing capabiliy on Solar2D simulator\nit attaches animation, button etc to a layer, and updates the project codes(lua files) when you save each properteis of kwik components/events(actions).\ncircled A, B images are helper objects of Kwik to specify a Layer Animation position from pos A to pos B. You can drag A to starting position, B to ending podistion of a target layer.\nLively preview is available when you enter a new value to component properties.\nSolar2D simulator automatically reloads itself when there are updated files. (Kwik4 needed publsihing code to update a solar2d project)\nthe kwik editor can read single or mutiple books project.\nYou can create a single book app and mutiple books project with the following project structure.\nPlease set a App/book folder as the output folde when you publsih images/codes with Kwik exporter UXP plugin.\nsingle book\nKwik5 publshies images/codes to App/book folder. (kwik4 publshied everything under build4 folder)\nmultiple books (bookstore)\nYou can work each book folder one by one with Kwik exporter(UXP) to publsih images of psd files of each book. So please select one of book folder when you use Kwik exporter\nKwik5 you can publsih each book under App folder directly. (Kwik4 needed to collect each book project to App folder from build4 folder by a batch file for making a bookshelf app.)\n"},{"uri":"https://kwiksher.github.io/kwik5docs/introduction/","title":"Introduction","tags":[],"description":"","content":"Introduction Modified UXP Folder structure Lua New Features UXP Kwik Editor in Solar2D Lua Bookstore Modified UXP Open\nkwik4 kwik5 the psd files are under Kwik/{Project Name} folder. Please choose a folder that has the psf files to be published Solar2D Project\nthis tells where to publish images of a PSD to a solar2D project Kwik4 was under build4 folder and no choice was available\nNew\ncreates a book folder under App folder. A book has scenes(pages). Each scene is genereted from each psd file.\nSelect\nyou can select a book where a psd is published as a scene(page).\nApp/{bookName} Folder structure Book \u0026gt; scene (page) \u0026gt; layer\nnames of psd files are used to create a scene lua file for Solar2D composer\nkwik4 kwik5 pageOne.psd uses \u0026ldquo;page01\u0026rdquo; - assets/images/p1 - components/page01 - commands/page01 - views/page01Scene.lua. pageOne.psd uses \u0026ldquo;pageOne\u0026rdquo;\n- assets/images/pageOne - components/pageOne - commands/pageOne - scenes/pageOne/index.lua dist folder\nkwik4 kwik5 build4 - assets/images/p1 - components/page01 - commands/page01 - views/page01Scene.lua. App/{bookName}\n- assets/images/pageOne - components/pageOne - commands/pageOne - scenes/pageOne/index.lua commands/common components/common\ncomponents/bookstore bookshelf is renamed to bookstore that is an enhancement of the kwik4\u0026rsquo;s bookshefl imlementation (it was provided with kwikshelf.plugin)\nLua main.lua\nyou can load a book project with the following code.\nrequire(\u0026#34;controller.index\u0026#34;).bootstrap({name=\u0026#34;bookFree\u0026#34;, sceneIndex = 1 }) sceneIndex is defined in App/{bookName}/scenes/index.lua\nlocal scenes = { \u0026#34;page1\u0026#34;, \u0026#34;page2\u0026#34;, } return scenes App/{bookName}/scenes/{pageName}/{layerName}.lua\na component or layer lua file is retrived from composer library of Solar2D.\nkwik4 kwik5 UI.layer local bg = UI.layer.bg UI.scene.view local bg = UI.scene.view.bg kwik4\u0026rsquo;s UI.layer is obsolete.\nKwik5 holds all layers in UI.layers as an array, and also UI.scene.view contains all the layers with it.\nfunction M:create(UI) local sceneGroup = UI.scene.view -- layers is a array local layers = UI.layers for i=1, #layers do print(layers[i].name) end -- sceneGroup is a hash table local bg = sceneGroup[\u0026#34;bg\u0026#34;] print(bg.name) end New Features UXP Validate Names: layer names in Japanese Kana\nsymbols are converted to \u0026lsquo;_\u0026rsquo; \u0026lsquo;レイヤー 1\u0026rsquo; is converted to \u0026lsquo;reiya_1\u0026rsquo; Layer Groups: publish images of a nested layer group.\nKwik Editor in Solar2D animation, button, layer repleacements(spritesheet,video, particles) are editied with Kwik Editor in Solar2D.\nIt helpes to change values of components properties easily, or add/attach a component class to a layer visually for designers to do a no-code editing\nKwik5 is aimed to be a low code tool faster to work with .lua code easily and directly. See the next Lua section\nkwik4 kwik5 1. kwik\u0026rsquo;s component panel saves props to .kwk(XML) 2. Publish .lua from .kwk 1. UXP Publish code(.lua) as base 2. Create/modify .lua for animation, button .. with Kwik editor in Solar2D simulator For developers, use a text editor to edit .lua directly Lua Kwik4 had .kwk xml to hold a properties/values of a Kwik project. Kwik5 uses .lua mainly\nApp/{bookName}/scenes/index.lua\nyou can add your own(custom) page to the index.lua\nlocal scenes = { \u0026#34;page1\u0026#34;, \u0026#34;page2\u0026#34;, \u0026#34;yourPageName\u0026#34; } return scenes App/{bookName}/scenes/{pageName}/index.lua\nlayers form photoshop(images) and other resouces are separated.\nyou can add your own(custom) layers to the layers table\nnested layres are supported\nlayers = { ... { title = {}}, { customLayeTop = { {panelOne ={ }}, {panelTwo = { {buttonOne={} }, {buttonTwo={} }} } } } you can add your own(custom) components to the components table\npage sceneName = ... -- local scene = require(\u0026#39;controller.scene\u0026#39;page(sceneName, { name = \u0026#34;page1\u0026#34;, layers = { { bg={} }, { gotoBtn={} }, { title={} }, { customLayerName={} }, }, components = { audios = { }, groups = { }, timers = { }, variables = { }, pages = { \u0026#34;yourComponentName\u0026#34; } }, events = { }, onInit = function(scene) print(\u0026#34;onInit\u0026#34;) end }) -- return scene layer has a class\nKwik4\u0026rsquo;s animation, button, layer replacements(spritesheet,video, particles,,) equal to a class in kwik5\nyou may add your own custom class to a layer\nlayers = { ... { title = {}, class={\u0026#34;animation\u0026#34;, \u0026#34;button\u0026#34;, \u0026#34;yourClass\u0026#34;}}, } components\nKwik4\u0026rsquo;s audio, group, timer, varaible are treated as components in a scene in Kwik5\nlayers = { { bg={} }, { gotoBtn={} }, { title={} }, }, components = { audios = { long = {\u0026#34;longOne\u0026#34;, \u0026#34;longTwo\u0026#34; }, short ={\u0026#34;shortOne\u0026#34;,\u0026#34;shortTwo\u0026#34;} , sync = {\u0026#34;syncOne\u0026#34;, \u0026#34;syncTtwo\u0026#34;, en={\u0026#34;helloen\u0026#34;}, jp={\u0026#34;hellojp\u0026#34;}} } groups = {\u0026#34;groupOne\u0026#34;,\u0026#34;groupTwo\u0026#34;}, timers = {\u0026#34;timerOne\u0026#34;, \u0026#34;timerTwo\u0026#34;}, variables = {\u0026#34;varOne\u0026#34;, \u0026#34;varTwo\u0026#34;}, }, common component examples\nnavigation WASD key navigation swipes thumbnails bookstore navigation Events App/{bookName}/scenes/{pageName}/index.lua has events too.\nFor example, panelOne.OK event that comes from a button in panelOne. It fires OK event, and actions code in panelOne.OK.lua in App/{bookName}/commnads/{pageName} folder will be exectued.\npage sceneName = ... -- local scene = require(\u0026#39;controller.scene\u0026#39;page(sceneName, { name = \u0026#34;page1\u0026#34;, layers = { { bg={} }, ... }, components = { ... }, events = { \u0026#34;panelOne.OK\u0026#34;, \u0026#34;panelOne.Cancel\u0026#34;, \u0026#34;timerOne\u0026#34;, \u0026#34;actionOne\u0026#34;, }, onInit = function(scene) print(\u0026#34;onInit\u0026#34;) end }) -- return scene Bookstore portrait view for library book table view each book status: isFree, isPurchased, isDownloadable, isDownloaded\nonline icon See the section of bookstore/components/#Photoshop files table.psd\nrestore \u0026amp; download all\n"},{"uri":"https://kwiksher.github.io/kwik5docs/get_started/step1/","title":"Step 1 - UXP","tags":[],"description":"","content":"UXP/kwik-exporter Open Adobe UXP Developer Tool\nAdd Plugin to select develop/UXP/kwik-exporter/dist\nTODO alpla release folder structure may be different to the current develop\nLoad it\nKwik Exporter Panel apppears\nPhotoshop Files \u0026gt; Open\nyou can select the following folder that comes with demo .psd files and kwikconfig.json. You may open a folder of yours which contains psd files.\nsample-projects/SingleBook/book01\npage1.psd page2.psd kwikconfig.json { \u0026#34;name\u0026#34;:\u0026#34;book one\u0026#34;, \u0026#34;output\u0026#34;:\u0026#34;../../Solar2D/src/App/book\u0026#34;, \u0026#34;pages\u0026#34;:[ {\u0026#34;psd\u0026#34;:\u0026#34;page01.psd\u0026#34;, \u0026#34;name\u0026#34;:\u0026#34;page one\u0026#34;}, {\u0026#34;psd\u0026#34;:\u0026#34;page02.psd\u0026#34;, \u0026#34;name\u0026#34;:\u0026#34;page two\u0026#34;} ] } TODO Project Name Text Box to display a selected folder name as default.\nTODO User can change it and Kwik uses it for a folder name when publshing\nTODO kwikconfig.json will be created in the selected folder.\nDouble Click the one of .psd in the list to open it for editing.\nSolar2D Project \u0026gt; New\nNew button, a set of Solar2D project will be generated to a selected folder. Create a new Soler2D project TODO dialog for choice - create a pair of Photoshop \u0026amp; Solar2D project folder\nit will scafold a Solar2D folder of a template to a folder you choose. NG Current implementation copies Solar2D folder w/o App TODO it would be better to scafold the entire structure of SingleBook sample - create a book folder into Photoshop folder select a distination folder TODO select portrait or landscape\nThe following folder structure will be created under Solar2D folder\n├── Photoshop │ └── book01 │ ├── kwikconfig.json │ └── page01.psd └── Solar2D ├── rel ├── src │ ├── App │ │ └── book │ ├── Images.xcassets │ ├── LaunchScreen.storyboardc │ ├── assets │ ├── build.settings │ ├── commands │ ├── components │ ├── config.lua │ ├── controller │ ├── en.lproj │ ├── extlib │ ├── jp.lproj │ ├── main.lua │ └── mySplashScreen.png ├── templates └── tools Solar2D Project \u0026gt; Select Book\nSelect Book\nplease select an output folder where each psf files are published. It must be under App folder.\nPublish\nselected psd files are publihsed to App/book folder\ncheckbox all\nit will select all the psd files in the list\nInput text box\nyou can input the index number of psd files to be published for example,\n0, 2-3\nPublish button\nExport Settings Dialog appears, click Export\nTODO show the project name with the default output folder\nBrowse button\nSelect the folder for output if you like to change the destination. The default is defined in kwikconfig.json as \u0026quot;../../Solar2D/src/App/book\u0026quot;\nKwik will publish images/source code. You can find them in\nTODO change dist to src with SimpleBook sample\nActive Document\nYou can publish images/codes from active document only.\nExport Images Export Code Layer Groups\nTODO Kwik4_1280x1920 to be renamed as page1\nYou can export images of a layer group individually.\nSelect layer groups and then click Unmerge button.\nIf you want to cancel a layer group to be unmerged, Check it and click Cancel button. It will disppaer from the list.\nThe source files and the images are exported when you publish.\nTODO fix the bug that unmerged group is not indexed at the right position in index.lua\nlocal scene = require(\u0026#39;controller.scene\u0026#39;).new(sceneName, { name = \u0026#34;kwik4_1280x1920\u0026#34;, layers = { { bg={} }, { copyright={} }, { star={} }, { hello={} }, { mycircle={} }, { myrect={}, { GroupA={ { SubA = {} },} }, }, "},{"uri":"https://kwiksher.github.io/kwik5docs/get_started/step2/","title":"Step2 - Solar2D","tags":[],"description":"","content":"Solar2D Simulator Open main.lua in Solar2D/src with Solar2D Simulator\nTODO UXP::Publish to include swipe page or A/D keys for navigation ⭐️\nkwiconfig.lua\ndebug = {enable = true, navigation= \u0026#34;swipe/keys\u0026#34;} Kwik Visual Code Editor "},{"uri":"https://kwiksher.github.io/kwik5docs/get_started/","title":"Get Started","tags":[],"description":"","content":"TODO\nswipe page or A/D keys for navigation\ndoc test layer groups and add how to work with a layer group in get started\nlayer group in Kwik Visual Code a test .psd and publish it clean image template lua\nadd animation and button\naction group animation, an example for multiple animations sliders, switches for true/false, option/checkbox add audio \u0026amp; video\nnagivation \u0026amp; thumnail images\nrefactor kNavi.lua doc Get Started UXP/kwik-exporter A project folder Solar2D Simulator/kwik-editor UXP/kwik-exporter Open Adobe UXP Developer Tool\nAdd Plugin by selecting develop/UXP/kwik-exporter/dist/manifest.json\nKwik Exporter Panel apppears\nFrom the UXP plugin\nPhotoshop Files \u0026gt; Open\nDouble Click the one of .psd in the list to open it for editing.\nSolar2D Project \u0026gt; Select Book or create a new Solar2D project\nPublish\nselected psd files are publihsed to App/book folder\nA project folder ├── Photoshop │ └── book │ ├── kwikconfig.json │ ├── page1,psd │ └── page2.psd └── Solar2D ├── rel ├── src │ ├── App │ │ └── book \u0026lt;==== the published images/lua files are inside this folder │ ├── Images.xcassets │ ├── LaunchScreen.storyboardc │ ├── assets │ ├── build.settings │ ├── commands │ ├── components │ ├── config.lua │ ├── controller │ ├── en.lproj │ ├── extlib │ ├── jp.lproj │ ├── main.lua │ └── mySplashScreen.png ├── templates └── tools Solar2D Simulator/kwik-editor Open main.lua in Solar2D/src with Solar2D Simulator\nKwik Visual Code Editor wiil be loaded and your content(App/book) of your psd files are previewd\nFor instance, animtion editing Action editing "},{"uri":"https://kwiksher.github.io/kwik5docs/get_started/naming_rule/","title":"PSD Naming Rule","tags":[],"description":"","content":"Naming .psd file anad layers in documents Project and file names\nAvoid long names for your projects and files and, DO NOT use characters like +-\u0026lt;\u0026gt;%,#;!.\nLayer names\nBefore you start adding buttons and animations, follow the rules below. It is much easier to add interactivity with finalized names rather than to edit all of them afterward. Basic rules include:\nOnly user Western characters are allowed for layer names.\nDO NOT use characters such as + - \u0026lt;\u0026gt; %,#;!. for naming layers\nThese characters conflict with Lua language. Kwik removes these “strange” characters but, if they were used before in any button actions, it would generate errors during export.\nDo NOT name your layers starting with numbers.\nFor example, a layer named \u0026ldquo;1\u0026rdquo;, will generate an error. A layer named \u0026ldquo;01_Name\u0026rdquo; will also generate an error. However, a layer named \u0026ldquo;Name_01\u0026rdquo; is correct.\nDo not use Lua commands as names.\nFor example, a layer named “if” will conflict with the command if. Some Lua commands are: if, end, local, transition, play. A full list of Lua commands is here. Kwik will generate an alert error if it finds layers named with Lua commands\nAvoid having multiple layers with the same name.\nKwik will not export the second layer with the same name as it will overwrite the first one, (which will make the Lua code crazy). Kwik will provide an alert error if it finds layers with identical names.\nAvoid long names.\nAll layer names become variables when exported, meaning they use more memory and are more difficult to read. Also, they are going to be shortening anyways, as Lua will not allow variable names with more than 15 characters.\nKeep Layer Names Short for text layers\nText layer names are originally created using the content of the text from the canvas in Photoshop. If you have a long paragraph, the layer name will be the entire content of the long paragraph! Long layer names cause problems in the generated code, so edit the layer names to make them shorter. (This is the most common problem we have seen from our users reporting issues.) Don’t forget all text, besides the ones used in Sync audio feature, also are exported as images.\nGrouped layers\nKwik can export grouped layers as a single image. Use them to create more complex elements (for example, a multi-layered button with text, shadows, etc.), or for the creation of static elements. A common issue is to have all page elements in a group layer that images are not rendered separately. If you have a group with several layers, try to flatten them whenever it is possible. It will make the export process much faster.\nButton and Animation names of Kwik components\nAlthough Kwik offers an auto-naming feature, try to enter your own names (follow the rules above). It will help you to quickly edit your actions from the project view. This is a time saver for a project with several actions.\n"},{"uri":"https://kwiksher.github.io/kwik5docs/bookstore/steps/","title":"Steps","tags":[],"description":"","content":"Steps Project folders\nPhotsohop/bookShopX\nbookTOC library.psd {{bookName}}Icon downloadBtn saveBtn savingTxt purchaseBtn restoreBtn infoTxt Buy Product Action dialog.psd {{bookName}}Icon downloadBtn saveBtn savingTxt purchaseBtn infoTxt hideOverlayBtn bookFree page1.psd page2.psd bookOne page1.psd page2.psd Solar2D\nmain.lua\nrequire(\u0026#34;controller.index\u0026#34;).bootstrap({name=\u0026#34;book\u0026#34;, sceneIndex = 1}) -- scenes.index {\u0026#34;library\u0026#34;, \u0026#34;dialog\u0026#34;} components/bookstore/model.lua\nHost URL of yours if you set up your own server.\nlocal YourHost = \u0026#34;http://localhost:8080\u0026#34; M.URL = YourHost..\u0026#34;/bookshelf/\u0026#34; M.backgroundImg = \u0026#34;bg.png\u0026#34; books model\nM.books = { bookFree = { name = \u0026#34;bookFree\u0026#34;, versions = {\u0026#34;en\u0026#34;, \u0026#34;jp\u0026#34;}, titles = {en=\u0026#34;bookOne\u0026#34;, jp=\u0026#34;\u0026#34;}, descriptions = {en=\u0026#34;desc\u0026#34;, jp =\u0026#34;\u0026#34;}, isFree = true, isOnlineImg = false, image = \u0026#34;App/bookFree/assets/images/title/bg.png\u0026#34;, productNames = {apple = \u0026#34;bookFree\u0026#34;, google = \u0026#34;bookFree\u0026#34;, amazon = \u0026#34;bookFree\u0026#34;}, }, bookOne = { name = \u0026#34;bookOne\u0026#34;, versions = {\u0026#34;en\u0026#34;, \u0026#34;jp\u0026#34;}, titles = {en=\u0026#34;bookOne\u0026#34;, jp=\u0026#34;\u0026#34;}, descriptions = {en=\u0026#34;desc\u0026#34;,jp=\u0026#34;\u0026#34;}, isFree = false, isOnlineImg = true, image = \u0026#34;App/bookOne/assets/images/title/bg.png\u0026#34;, productNames = {apple = \u0026#34;bookOne\u0026#34;, google = \u0026#34;bookOne\u0026#34;, amazon = \u0026#34;bookOne\u0026#34;}, } } BookServer\ncompress_assets/main.lua\ncompress and copy each assets of books to BookServer/bookstore folder with assets.json\nedit the book table and run it with Solar2D simulator\nlocal books = { {project = \u0026#34;bookFree\u0026#34;, serverFolder = \u0026#34;bookFree\u0026#34;}, {project = \u0026#34;bookOne\u0026#34;, serverFolder = \u0026#34;bookOne\u0026#34;}, } local onLineImages = { {project = \u0026#34;bookFree\u0026#34;, serverFolder = \u0026#34;bookFree\u0026#34;, image = \u0026#34;assets/images/page1/bg@4x.png\u0026#34;}, {project = \u0026#34;bookOne\u0026#34;, serverFolder = \u0026#34;bookOne\u0026#34;, image = \u0026#34;assets/images/page1/bg@4x.png\u0026#34;}, } bookstore folder\nbookFree/assets.json page1/assets.zip page2/assets.zip bookOne/assets.json run http-server and it check json is available\nhttp://localhost:8080/bookstore/bookFree/assets.json\nSolar2D simulator menu \u0026gt; show sand box folder\nyou need to clean the following folders if you want to recover the initial state. * Application Support * Documents * TemporaryFiles\nFor device build, you must set the valid product IDs from apple, google or amazon. For IAP Debug Mode, set the same name value to each filed.\nDebug mode IAP Badger https://github.com/happymongoose/iap_badger\nWhen you test it with debug as true for components/bookstore/model.lua , you need to set the book names as its dummies for the productNames.\nDon\u0026rsquo;t use the official product names from apple, google or amazon. With official IDs, debug mode fails to return a book name and IAP not work correctly.\nproductNames = {apple = \u0026#34;bookFree\u0026#34;, google = \u0026#34;bookFree\u0026#34;, amazon = \u0026#34;bookFree\u0026#34;}, build.settings iOS if you use http server instead of https, please set your domain in build.settings\nNSExceptionDomains\nhttps://docs.coronalabs.com/guide/hardware/appleATS/index.html\nAndroid config.lua needs google license key build.settings needs the permissions "},{"uri":"https://kwiksher.github.io/kwik5docs/bookstore/server/","title":"Book Server","tags":[],"description":"","content":"Book Server Preparation After published your Book\u0026rsquo;s projects, you can use compress_assets/main.lua\nBookServer/compress_assets/main.lua\nthe script makes json and zip files\ncompress_assets/main.lua\nlocal command = require(\u0026#34;compress_assets\u0026#34;) command.setServerFolder(\u0026#34;macos\u0026#34;, \u0026#34;bookstore\u0026#34;) --command.setServerFolder(\u0026#34;win32\u0026#34;, \u0026#34;bookstore\u0026#34;) -- the name of Kwik project and the name of In App Purchase product -- local books = { {project = \u0026#34;Book01\u0026#34;, serverFolder = \u0026#34;book01\u0026#34;}, {project = \u0026#34;Book02\u0026#34;, serverFolder = \u0026#34;book02\u0026#34;}, } -- Use Online Images needs an image file -- local onLineImages = { {project = \u0026#34;Book01\u0026#34;, serverFolder = \u0026#34;book01\u0026#34;, image = \u0026#34;assets/images/page1/bg@4x.png\u0026#34;}, {project = \u0026#34;Book02\u0026#34;, serverFolder = \u0026#34;book02\u0026#34;, image = \u0026#34;assets/images/page1/bg@4x.png\u0026#34;}, } Notice: For bookstoe with multiple languaes, and Use Online Image is true, a thumbnail image from online server will be requested with lang ID. For instance,\nhttp://localserver:8080/bookshefl/book01en/bg.png\nFor this case, BookServer needs book01en, book01jp folders. Please modify the script with lang ID for onLineImages table\nlocal onLineImages = { {project = \u0026#34;Book01\u0026#34;, serverFolder = \u0026#34;book01en\u0026#34;, image = \u0026#34;assets/images/page1/bg@4x.png\u0026#34;}, {project = \u0026#34;Book01\u0026#34;, serverFolder = \u0026#34;book01jp\u0026#34;, image = \u0026#34;assets/images/page1/bg@4x.png\u0026#34;}, {project = \u0026#34;Book02\u0026#34;, serverFolder = \u0026#34;book02en\u0026#34;, image = \u0026#34;assets/images/page1/bg@4x.png\u0026#34;}, {project = \u0026#34;Book02\u0026#34;, serverFolder = \u0026#34;book02jp\u0026#34;, image = \u0026#34;assets/images/page1/bg@4x.png\u0026#34;}, } http-server Please prepare a http-server and put the contents of BookServer folder.\nhttp-server\ncd BookServer http-server http://127.0.0.1:8080 Hit CTRL-C to stop the server http://localhost:8080/bookstore/book01/assets.json\nPlease check the url in components/bookstore/model.lua\nlocal YourHost = \u0026#34;http://localhost:8080 M.URL = YourHost..\u0026#34;/bookstore/\u0026#34; Update an asset compress_assets/main.lua has command.updateAsset function\n-- -- update page1, videos -- local project = \u0026#34;Book02\u0026#34; local serverFolder = \u0026#34;book02\u0026#34; local page = 1 local type = \u0026#34;images\u0026#34; -- command.updateAsset(project, serverFolder, page, type) --[[ \u0026#34;audios\u0026#34; \u0026#34;read2me\u0026#34; \u0026#34;PNGs\u0026#34; \u0026#34;sprites\u0026#34; \u0026#34;particles\u0026#34; \u0026#34;WWW\u0026#34; \u0026#34;thumbnails\u0026#34; \u0026#34;images\u0026#34; \u0026#34;shared\u0026#34; ]] Assets folder Spritesheet Word audio Video use pngs Particles Web View "},{"uri":"https://kwiksher.github.io/kwik5docs/get_started/components/","title":"Components","tags":[],"description":"","content":"Components For instance components/pageX/controller/swip.lua enables a page transition, and audios can have multiple audio objects.\nlocal sceneName = ... -- local scene = require(\u0026#39;controller.scene\u0026#39;).new(sceneName, { name = \u0026#34;pageX\u0026#34;, layers = { { bg={ } }, }, components = { audios = { audioOne = {}, audioTwo = {} }, groups = { }, timers = { }, variables = { }, pages = { \u0026#34;controllers.swipe\u0026#34; } }, events = { myAction,myEvents.testHandler }, onInit = function(scene) print(\u0026#34;onInit\u0026#34;) end }) -- return scene page common controllers swipe keyboard audio group timer Common components You can add a common component to components/common directory\nAnd let it pass in arguments of bootstrap function in main.lua\nlocal common = {events = {\u0026#34;myEvent\u0026#34;}, components = {\u0026#34;myComponent\u0026#34;}} require(\u0026#34;controller.index\u0026#34;).bootstrap({ name=\u0026#34;book\u0026#34;, sceneIndex = 1, position = {x=0, y=0}, common =common }) Common components are executed after all the layer components of a scene are rendered. So you can access a layer component by UI.layers table.\nfor instance, myComponent.lua attaches a tap listener\nfunction _M:didShow(UI) local sceneGroup = UI.scene.view UI.layers.bg:addEventListener(\u0026#34;tap\u0026#34;, function(event) print(\u0026#34;bg is taaped\u0026#34;) end) end "},{"uri":"https://kwiksher.github.io/kwik5docs/get_started/events/","title":"Events &amp; Commands","tags":[],"description":"","content":"Events \u0026amp; Commands For an event for a page in a book there are two types\nlayer events general events For example in scenes/pageX/index.lua, buttonOne layer has two events, tap and drag, and for general events (kwik calls it Action) are defined for instance \u0026ldquo;myAction\u0026rdquo;, \u0026ldquo;myEvents.testHandler\u0026rdquo; under the root of the table\n{ name = \u0026#34;kwik4_1280x1920\u0026#34;, layers = { { bg={} }, { buttonOne={ events = {tap, drag}} }, }, components = { audios = { }, groups = { }, timers = { }, variables = { }, others = { } }, events = { \u0026#34;myAction\u0026#34;, \u0026#34;myEvents.testHandler\u0026#34; }, onInit = function(scene) print(\u0026#34;onInit\u0026#34;) end } The assicated lua files are located in the commands folder\nApp/bookX/pageX/commands buttonOne tap.lua drag.lua myAction.lua myEvents/testHandler.lua For a common event for a book create a command lua in commands/common directory, for example\ncommands/common/myEvent.lua\nlocal instance = require(\u0026#34;commands.kwik.baseCommand\u0026#34;).new( function (params) local UI = params.UI print(\u0026#34;commands.myCommonEvent\u0026#34;) end) return instance And let it pass in arguments of bootstrap function in main.lua\nlocal common = {events = {\u0026#34;myEvent\u0026#34;}, components = {myComponent={}}} require(\u0026#34;controller.index\u0026#34;).bootstrap({ name=\u0026#34;book\u0026#34;, sceneIndex = 1, position = {x=0, y=0}, common =common }) context:init function of controller/ApplicationContext.lua automtaically adds it\nthis context init is called everytime when a scene is loaded. You can dispatch an event to executre myEvent.lua like this\nUI.scene:dispatchEvent({ name = \u0026#34;common.myEvent\u0026#34;, UI = UI }) "},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/photoshop/","title":"Photoshop File","tags":[],"description":"","content":"Photoshop File https://www.ios-resolution.com/\niPhone 13 Pro Max\t1284x2778\niPad Pro 2048 x 2732\niPhone X 1125 x 2436\niPhone 11 Pro 1242 x 2688\nhttps://forums.solar2d.com/t/iphone-11-pro-max-screen-shots-in-simulator/151266/11\nKwik4 Ulitimate Config\n1280 x 1920\nhttps://kwiksher.com/doc/getting_startted/guidelines/blend_mode/\nhttps://kwiksher.com/doc/getting_startted/guidelines/screenshot/\nbackground\n1440 x 2280\niPhone X 1440 × 2772\nhttps://forums.solar2d.com/t/how-to-define-application-working-area-on-the-screen/351066/11\nhttps://forums.solar2d.com/t/safe-area-on-iphone-x-and-11-problem/353608\nhttps://github.com/SpyricGames/Solar2D-Plugins-Public\n"},{"uri":"https://kwiksher.github.io/kwik5docs/get_started/tools/","title":"Tools","tags":[],"description":"","content":"Tools Kwik Visual Code Editor Launcher Harness Custom Code generate_scene_index tool Kwik Visual Code Editor update the test-proj/Solar2D/component/editor to develop/Solar2D/tools/kwik-editor\nThis tool visually edits Soar2D/src files of a Kwik project and is harnessed by Pegasus http-server\n↑ Select a layer or an event to review. You can edit values of properties\nTODO each kwik component with default values\nTODO ui components like checkbox/selectors \u0026hellip; for each component ⭐️\nreact compnents on webview \u0026ndash; can be shared with UXP panel which may send params via http to pegasus in kwik editor\ncurrent editPorpsTable.lua servers as plain table viewer \u0026amp; editor\nTODO save/copy params to .http (YAML) for httpYac\nTODO how to send text to clipboard from Solar2D　⭐️\nLauncher develop/Solar2D/tools/pegasus-launcher\ntest-Solar2D-SampleCode.http You can open a solar2D project from VS Code with httpYac\nHarness develop/Solar2D/tools/pegasus-harness\ntest_character_transitions.http test_Loading_animation.http You can post params with httpYac in VS Code to a Solar2D project\nTODO set Layer varaible with samples\nTODO create models: animation, transition2, button \u0026hellip;, and pegasus-receiver in kwik-editor ⭐️\nAnimation_bounce.http\nPOST /layers/logo Content-Type: application/yaml - transition: bounce - params: height: 400 width: 200 time: 1000 iterations: 0 Custom Code you can put your own code into commands and scenes folder. Kwik Exporter traverses folders of Solar2D project to integrate your additional files.\ncommands/*.lua scenes/*.lua for instance, myrect.lua calls myEvents.testHandler when user taps the rect.\nThe $weight in a comment line at the top is a variable for Kwik. A scene componet(layer or your custom code)with lower value will be placed upper. The top layer from Photoshop is zero. Then values are increases to until the background layer. For your custom code , you can use minus or positive with decimal. For example, myrect is -2, mycircle is -1. If you change weight values of custom code files, don\u0026rsquo;t forget to publish code again.\n-- $weight=-2 -- local _M = {} -- function _M:init(UI) end -- function _M:create(UI) local sceneGroup = UI.scene.view local obj = display.newRect( sceneGroup, display.contentCenterX, display.contentCenterY-100, 100, 100 ) obj:setFillColor(0.2,0.2,0.2); obj:addEventListener(\u0026#34;tap\u0026#34;, function() UI.scene:dispatchEvent({ name = \u0026#34;myEvents.testHandler\u0026#34;, UI = UI }) end) end -- function _M:didShow(UI) end -- function _M:didHide(UI) end -- function _M:destory() end -- return _M myEvents.testHandker.lua\nlocal instance = require(\u0026#34;commands.kwik.baseCommand\u0026#34;).new( function (params) local UI = params.UI print(\u0026#34;commands.myEvents.testhander\u0026#34;) UI.scene:dispatchEvent({ name = \u0026#34;myAction\u0026#34;, UI = UI }) end ) -- return instance You can find your custom code are inserted in scenes/{PSD FILENAME}/index.lua. The layers are sorted internally by values of meta weight variables.\ngenerate_scene_index tool create .lua for commands or components\nrun the follwoing tool to update scenes/pageX/index.lua to append the new .lua to the index.lua\n/develop/Solar2D/tools/generate_scene_index is a Solar2D application. You can open the main.lua in Solar2D simulator.\nthe table in the index.lua is updated by iterating files in App/bookX/components and bookX/commands\n"},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/icons/","title":"Icons","tags":[],"description":"","content":"https://forums.solar2d.com/t/new-icon-size-for-ios/354492\n114x114 "},{"uri":"https://kwiksher.github.io/kwik5docs/bookstore/simulator/","title":"Simulator","tags":[],"description":"","content":"Simulator \u0026amp; Device Build Run with Simulator loading main.lua of BookShelfEmbedded with Corona Simulator, clicking purchase text will show up the IAP dialog Files \u0026gt; Show Project Sandbox, you find downloaded zip and bg.png. If you want to refresh the state beginning, delete the files from the Sandbox folders. TemporaryFiles must be cleared because the files from Internet are cached there. Build for device After everything all right with simulator, turn off debug mode IAP.lua and set the valid product IDs of apple, google or amazon in the following lua files of BookShelfTOC project. You may edit the files in App/TOC.\nApp/TOC/components/store/IAP.lua App/TOC/components/store/model.lua components/store/IAP.lua\niapOptions.salt change it as your own text iapOptions.debugMode false for device build function M:init(catalogue, restoreAlert, purchaseAlert) print(\u0026#34;iap init\u0026#34;) self.catalogue = catalogue self.restoreAlert = restoreAlert self.purchaseAlert = purchaseAlert local iapOptions = { catalogue = catalogue, filename = \u0026#34;episodes_inventory.txt\u0026#34;, --Salt for the hashing algorithm salt = \u0026#34;something tr1cky to gue55!\u0026#34;, failedListener = failedListener, cancelledListener = failedListener, --Once the product has been purchased, it will remain in the inventory. Uncomment the following line --to test the purchase functions again in future. It\u0026#39;s also useful for testing restore purchases. --doNotLoadInventory=true, debugMode = true, } iap.init(iapOptions) print(\u0026#34;iap init end\u0026#34;) end components/store/model.lua\nproductNames.apple, productNames.google, productNames.amazon to be set for device build. If not used, make it empty string as \u0026quot;\u0026quot; M.catalogue = { products = { Episode02 = { productNames = { apple=\u0026#34;Episode02_apple\u0026#34;, google=\u0026#34;Episode02_googgle\u0026#34;, amazon=\u0026#34;Episode02_amazon\u0026#34;}, productType = \u0026#34;non-consumable\u0026#34;, onPurchase = function() IAP.setInventoryValue(\u0026#34;unlock_Episode02\u0026#34;) end, onRefund = function() IAP.removeFromInventory(\u0026#34;unlock_Episode02\u0026#34;) end, }, Episode03 = { productNames = { apple=\u0026#34;Episode03_apple\u0026#34;, google=\u0026#34;Episode03_googgle\u0026#34;, amazon=\u0026#34;Episode03_amazon\u0026#34;}, productType = \u0026#34;non-consumable\u0026#34;, onPurchase = function() IAP.setInventoryValue(\u0026#34;unlock_Episode03\u0026#34;) end, onRefund = function() IAP.removeFromInventory(\u0026#34;unlock_Episode03\u0026#34;) end, }, }, inventoryItems = { unlock_Episode02 = { productType=\u0026#34;non-consumable\u0026#34; }, unlock_Episode03 = { productType=\u0026#34;non-consumable\u0026#34; }, } } "},{"uri":"https://kwiksher.github.io/kwik5docs/bookstore/versions/","title":"Book Versions","tags":[],"description":"","content":"Book Versions It is a feature to download a different language version of a book. A user pays for a book and choose to download a book with his/her language\nModified sample project is here.\nbook01en book01jp book02en book02jp bookTOC library.psd dialog.psd\nBookSever BookSever/compress_assets/main.lua\ncommand.setServerFolder(\u0026#34;macos\u0026#34;, \u0026#34;bookshelf\u0026#34;) --command.setServerFolder(\u0026#34;win32\u0026#34;, \u0026#34;bookshelf\u0026#34;) local books = { {project = \u0026#34;Book01en\u0026#34;, serverFolder = \u0026#34;book01en\u0026#34;}, {project = \u0026#34;Book01jp\u0026#34;, serverFolder = \u0026#34;book01jp\u0026#34;}, {project = \u0026#34;Book02en\u0026#34;, serverFolder = \u0026#34;book02en\u0026#34;}, {project = \u0026#34;Book02jp\u0026#34;, serverFolder = \u0026#34;book02jp\u0026#34;}, } local onLineImages = { {project = \u0026#34;Book01en\u0026#34;, serverFolder = \u0026#34;book01en\u0026#34;, image = \u0026#34;build4/assets/images/p1/bg@4x.png\u0026#34;}, {project = \u0026#34;Book01jp\u0026#34;, serverFolder = \u0026#34;book01jp\u0026#34;, image = \u0026#34;build4/assets/images/p1/bg@4x.png\u0026#34;}, {project = \u0026#34;Book02en\u0026#34;, serverFolder = \u0026#34;book02en\u0026#34;, image = \u0026#34;build4/assets/images/p1/bg@4x.png\u0026#34;}, {project = \u0026#34;Book02jp\u0026#34;, serverFolder = \u0026#34;book02jp\u0026#34;, image = \u0026#34;build4/assets/images/p1/bg@4x.png\u0026#34;}, } Solar2D/components/bookstore/model.lua\nthe versions are added\nM.books = { bookFree = { name = \u0026#34;bookFree\u0026#34;, versions = {\u0026#34;en\u0026#34;, \u0026#34;jp\u0026#34;}, titles = {en=\u0026#34;Book Free\u0026#34;, jp=\u0026#34;ブック フリー\u0026#34;}, descriptions = {en=\u0026#34;free\u0026#34;, jp =\u0026#34;無料\u0026#34;}, isFree = true, isOnlineImg = false, image = \u0026#34;App/bookFree/assets/images/title/bg.png\u0026#34;, productNames = {apple = \u0026#34;bookFree\u0026#34;, google = \u0026#34;bookFree\u0026#34;, amazon = \u0026#34;bookFree\u0026#34;}, }, bookOne = { name = \u0026#34;bookOne\u0026#34;, versions = {\u0026#34;en\u0026#34;, \u0026#34;jp\u0026#34;}, titles = {en=\u0026#34;book\u0026#34;, jp=\u0026#34;ブック\u0026#34;}, descriptions = {en=\u0026#34;$10\u0026#34;,jp=\u0026#34;1000円\u0026#34;}, isFree = false, isOnlineImg = true, image = \u0026#34;App/bookOne/assets/images/title/bg.png\u0026#34;, productNames = {apple = \u0026#34;bookOne_apple\u0026#34;, google = \u0026#34;bookOne_google\u0026#34;, amazon = \u0026#34;bookOne_amazon\u0026#34;}, } } when user purchase bookX, user can download the default of bookX or en, jp. Kwik internally downloads bookX.zip or bookXen/asset zip files or bookXjp/asset zip files\nuse case memo TODO direct open a book according to the language code of the page\nwhen user click purchase button and the transaction is completed, next user needs to click download-version button to get an asset zip of a selected language from Book server\nlibrary.psd\npurchase button is not available in library page. It is removed (alpha=0)\nuser can not directly open a book from a thumbnail icon. Click the icon to pop up the dilaog, and then user choose one of version of a book\nfrom dialog, user can open a book if it has been purchased and been downloaded in the app "},{"uri":"https://kwiksher.github.io/kwik5docs/design/architecture/","title":"Architecure","tags":[],"description":"","content":"Architecure UXP panel\nflowchart LR Designer((fas:fa-user Designer)) Developer((fas:fa-user Developer)) subgraph Photoshop[Photoshop UXP] graphics(images/lua renderer\u0026lt;br\u0026gt;scaffolder) end subgraph Editor[Kwik Visual Editor] subgraph App assets[(assets/images\u0026lt;br\u0026gt;models/json)] lua[(Source .lua)] end tools(GUI tools\u0026lt;br\u0026gt;\u0026lt;br\u0026gt;renderer\u0026lt;br\u0026gt;scaffolder) httpServer RestApi(RestApi\u0026lt;br\u0026gt;transform\u0026lt;br\u0026gt;animation) RestApi -.- tools end subgraph RestApi[REST API] form(Properties \u0026lt;br\u0026gt; CRUD) end subgraph VSCode httpYac(httpYac) coding end Photoshop -.img/json.-\u0026gt; assets RestApi \u0026lt;-.img/json.-\u0026gt; httpServer httpServer \u0026lt;-.-\u0026gt; assets httpServer -.- tools tools -.- App Browser-.maybe in future.- RestApi httpYac -.- RestApi coding -.- lua RestApi -.- assets Designer --- tools Designer --- Photoshop Developer --- VSCode rest api\npegasus is runningin Editor\nrun Editor\nupload an image to pegasus server\nsave it assets/images/book/ create display.object .json Kwik Visual Editor\noutputs images/json to App/book\nrun App/book\n"},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/content/","title":"Content X Structure","tags":[],"description":"","content":"Content X Structure test/base-proj/Solar2D/App/bookX\nobsolete develop/UXP/kwik-exporter/plugin/kwik/base-proj/Solar2D/App/bookX\n. ├── assets │ ├── audios │ │ ├── long │ │ ├── short │ │ └── sync │ │ ├── en │ │ ├── jp │ ├── fonts │ ├── images │ │ └── pageX │ ├── model.json │ ├── particles │ ├── sprites │ ├── thumbnails │ ├── videos │ └── www ├── build.settings ├── commands │ └── pageX ├── components │ └── pageX │ ├── audios │ ├── groups │ ├── page │ │ └── controllers │ ├── timers │ └── variables ├── config.lua ├── mediators ├── models ├── scenes ├── index.lua └── pageX ├── index.lua ├── layer_image.lua example bookFree/page1\n. ├── assets │ ├── images │ │ ├── page1 │ │ │ ├── bg.png │ │ │ ├── bg@2x.png │ │ │ ├── bg@4x.png │ │ │ ├── gotoBtn.png │ │ │ ├── gotoBtn@2x.png │ │ │ ├── gotoBtn@4x.png │ │ │ ├── title.png │ │ │ ├── title@2x.png │ │ │ └── title@4x.png │ │ └── page2 │ └── thumbnails │ ├── page1.png │ └── page2.png ├── commands │ ├── page1 │ │ └── eventOne.lua │ └── page2 ├── components │ ├── page1 │ │ ├── audios │ │ ├── groups │ │ ├── page │ │ ├── times │ │ └── variables │ └── page2 ├── main.lua ├── mediators │ ├── page1Mediator.lua │ └── page2Mediator.lua ├── models │ ├── page1 │ │ ├── bg.json │ │ ├── events │ │ │ └── eventOne.json │ │ ├── gotoBtn.json │ │ ├── gotoBtn_animation.json │ │ ├── index.json │ │ ├── title.json │ │ └── title_animation.json │ └── page2 ├── scenes ├── index.lua ├── page1 │ ├── bg.lua │ ├── gotoBtn.lua │ ├── gotoBtn_animation.lua │ ├── index.lua │ ├── title.lua │ └── title_animation.lua └── page2 "},{"uri":"https://kwiksher.github.io/kwik5docs/design/","title":"Design","tags":[],"description":"","content":"Design Project model\nrobotlegs template components commands Tools\nimage exporter\nPS/XD UXP\nvisual editor (frontEnd)\nSolar2D\nlive editor (Maybe) React\nuxp plugin for Ps or XD web app REST server\npegasus-harness\npegasus-launcher\nfrontEnd app sends REST API requests to harness of pegasus lua server\nthis server offers the renderer of .lua for components and commands\nother tools\ngenerate_scene_index Sample projects\nImage Exporter plugin for Adobe Photoshop\nProject Model\nsample-projects/Pegasus\n/kwik5/sandbox/Ps/react-uxp-styles/Project/Solar2D\nVisual Editor(React)\n{{webview html panel}}\nUXP Browser Visual Live Editor(Solar2D)\nSolar2D/tools/kwik-editor/App/kwikEditor to be copied into a project? Or make them as components like a AtoB?\nbooks/pages(scenes)/layers\nmenu\ntools/actions with icons\nselectPage\nselectLayer with filter\nselect class show an event with class name like button-\u0026gt;onTap, anim-\u0026gt;onComplete button (-\u0026gt; New Action Icon) selectComponent\naudio event group timer event var add a component to a layer or a page selected\nselectAction\nlist actions\ncross references to components\nAction Editor\nAdd a command user select Animation list animations user select an animation, select an operation editt props Drag \u0026amp; Drop to change the order of commands Pegasus \u0026amp; httpYac to get/post properteis of components and actions? yaml props in .http\nCopy/(optional)EditRawJSON/Apply\ncopy json-props in a buffer (optional) show Edit JSON panel: json-props in text field, then you can copy it or modify select components and click paste button? audio/group/timer/var are independent from layers\ncomponents w/o events\npage\ngroup variable layer replacements\nset lang multiplier particles dynamic text text mask interactions\ncanvas scroll physics\nenv body force joint components with events\ntimer\naudio\nlayer (replacements)\nonComplete\nanimation video countdown text input transition\nonStart onComplete onPause onResume onCancel onRepeat sprite\nbegan ended bounce loop next sync audio text\nword timecode interactions\nbutton\ntap # press release drag\ndrop area dragging release swipe\npinch\npinching release spin\nclockwise anti clockwise shake\nparallax\nforward backword physics\ncollision preCollision postCollision create \u0026lsquo;select book/page/layer\u0026rsquo; menu at the bottom\nlayers table for a seclection . showOverlay?\nlayer name with \u0026lsquo;Add Class\u0026rsquo; button?\ncreate tools/actions with icons at the bottom\nselect animation \u0026gt; linear save/load\nscene/layers create? read update crud a class save table in lua into json publish json to lua TODO\nadd audio icon, action icon initApp to select an app folder? rename it to select App? move menu position to top/buttom/right/left Tools\ndevelop/Solar2D/tools/pegasus-harness\ndevelop/Solar2D/tools/pegasus-launcher\nREST API requests from httpYac are sent to pegasus\ngenerate_scene_index\n"},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/components/image/","title":"Image","tags":[],"description":"","content":"Image scenes/pageX/background.lua\nlocal _K = require \u0026#34;Application\u0026#34; local _M = require(\u0026#34;components.kwik.layer_image\u0026#34;).new() _M.weight = 1 local Props = { blendMode = \u0026#34;normal\u0026#34;, height = 520, width = 1000, kind = pixel, name = \u0026#34;bg\u0026#34;, x = 1000 -1000/2, y = 520/2, alpha = 100/100, } -- _M.imageWidth = Props.width/4 _M.imageHeight = Props.height/4 _M.mX, _M.mY = _K.ultimatePosition(Props.x, Props.y, \u0026#34;\u0026#34;) _M.randXStart = _K.ultimatePosition() _M.randXEnd = _K.ultimatePosition() _M.dummy, _M.randYStart = _K.ultimatePosition(0, ) _M.dummy, _M.randYEnd = _K.ultimatePosition(0, ) _M.infinityDistance = (parseValue() or 0)/4 .... .... .... -- function _M:localVars(UI) end -- function _M:localPos(UI) end -- function _M:didShow(UI) end -- function _M:toDispose(UI) end -- function _M:toDestory() end -- return _M \u0026lsquo;_M.weight = num\u0026rsquo; controlls the order of display objects for kwik-genereate-index tool that outputs scenes/pageX/index.lua\nscenes/pageX/groupOne/index.lua\n_M = {} _M.weight = 1 -- -- this index.lua is for kwik-generate-model -- you may put additional code here -- return _M scenes/pageX/groupOne/imageOne.lua\nlocal _K = require \u0026#34;Application\u0026#34; local _M = require(\u0026#34;components.kwik.layer_image\u0026#34;).new() _M.weight = 1 local Props = { ... .... } scenes/pageX/groupOne/imageTwo.lua\nlocal _K = require \u0026#34;Application\u0026#34; local _M = require(\u0026#34;components.kwik.layer_image\u0026#34;).new() _M.weight = 2 local Props = { ... .... } scenes/pageX/index.lua\nBottom to Top order\n{ name = \u0026#34;pageX\u0026#34;, layers = { {background={}}, {groupOne = { {imageTwo}, {imageOne}, }}, }, components = {}, events = {}, } "},{"uri":"https://kwiksher.github.io/kwik5docs/design/workflow/lua/","title":"Lua Code","tags":[],"description":"","content":"Lua you don\u0026rsquo;t need to use kwik-generate-model nor kwik-editor to output lua files. You can skip making .json files of these tools, and you create a lua file manually into a folder, and append a name of additional file to scenes/pageX/index.lua\ncommands/pageX/**/*.lua components/pageX/**/*.lua scenes/pageX/**/*.lua At runtime, Kwik Code Framework reads scenes/pageX/index.lua to load each .lua files of pageX. The object names for commands, compnents, scenes are defined in the index.lua.\nscenes/pageX/index.lua kwik-genereate-index is a tool to update the index.lua from traversing the folders above.\ncreate .lua for commands, components, layers of pageX, run the tool to generate scenes/pageX/index.lua you don\u0026rsquo;t need to use kwik-generate-index tool. You can manually edit it but it would be better to generate the index.lua with the tool.\nAlternatively, there is another tool named kwik-scaffold-lua. This tool scafolds .lua files from scenes/pageX/index.lua. The tool does not overwrite .lua if exists, and may delete .lua if not defined in index.lua\nWhich Workflow do you like?\nA\nuse kwik-generate-index everytime after you update commands, components, senes lua files.\nB\nuse kwik-scaffold-lua to create a lua for commands, components, scenes then edit the lua file.\nI like A because thinking about files/folders strcure with a file explorer, and coping/pasting an exsiting file could be easier when coding is in progress.\nTo initiate a project, B would work quicky to make a skelton structure.\n"},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/","title":"Project Model","tags":[],"description":"","content":"Project Model test/base-proj/\nPhotoshop/bookshop\n├── bookFree │ ├── page1.psd │ ├── page2.psd ├── bookOne ├── page1.psd └── page2.psd Solar2D\nTODO add a layer group\n. ├── AndroidResources ├── App │ ├── bookFree │ ├── assets │ │ ├── images │ │ │ ├── page1 │ │ │ │ ├── bg.png │ │ │ │ ├── bg@2x.png │ │ │ │ ├── bg@4x.png │ │ │ │ ├── gotoBtn.png │ │ │ │ ├── gotoBtn@2x.png │ │ │ │ ├── gotoBtn@4x.png │ │ │ │ ├── title.png │ │ │ │ ├── title@2x.png │ │ │ │ └── title@4x.png │ │ │ ├── page2 │ │ └── thumbnails │ ├── commands │ │ ├── page1 │ │ │ ├── eventOne.lua │ │ │ └── eventTwo.lua │ │ └── page2 │ ├── components │ │ ├── page1 │ │ │ ├── audios │ │ │ ├── groups │ │ │ ├── page │ │ │ ├── times │ │ │ └── variables │ │ └── page2 │ ├── main.lua │ ├── mediators │ ├── models │ │ ├── page1 │ │ │ ├── audios │ │ │ ├── groups │ │ │ ├── page │ │ │ ├── times │ │ │ ├── variables │ │ │ ├── bg.json │ │ │ ├── events │ │ │ │ └── eventOne.json │ │ │ ├── gotoBtn.json │ │ │ ├── gotoBtn_animation.json │ │ │ ├── index.json │ │ │ ├── title.json │ │ │ └── title_animation.json │ │ └── page2 │ └── scenes │ ├── index.lua │ ├── page1 │ │ ├── bg.lua │ │ ├── gotoBtn.lua │ │ ├── gotoBtn_animation.lua │ │ ├── index.lua │ │ ├── title.lua │ │ └── title_animation.lua │ └── page2 │ ├── Images.xcassets ├── LaunchScreen.storyboardc ├── assets ├── build.settings ├── commands │ ├── app │ ├── common │ │ └── myEvent.lua │ └── kwik ├── components │ ├── bookstore │ ├── common │ │ ├── bookstoreNavigation.lua │ │ ├── index.lua │ │ ├── keyboardNavigation.lua │ │ ├── myComponent.lua │ │ └── thumbnailNavigation.lua │ ├── editor │ └── kwik ├── config.lua ├── controller ├── en.lproj ├── extlib ├── lib ├── mySplashScreen.png └── main.lua "},{"uri":"https://kwiksher.github.io/kwik5docs/design/workflow/workflow/","title":"REST API","tags":[],"description":"","content":"REST API - YAML put images in App/demo/assets/page01\nlogo panel message button background shape1 shape2 Tool\nFinder/File Expolorer Plugin for Photoshop or XD will export images Editor html post image form network display.loadRemoteImage\nhttps://solar2d.com/images/logo.png\naccess images of XD shared view? or able to load them all?\nnetwork.download\nCreate layer structure\nEditor lists the images Order Top/Bottom/Up/Down frontEnd uses Adobe React Spectrum (in future, support screen reader etc)\nREST API to get the list of images and post the orderd list back\nGET /layers\n- background: [] - button: [] - logo: [] - message: [] - panel: Change the order of layers\nPOST /layers - logo: [] - panel: - message: [] - button: [] - background: [] Set animation and button\ntest KwikTheCat for evaluation\none by one\nPOST /layers/logo classes: - animation Or\nPOST /layers/logo Content-Type: application/yaml - transition: bounce - params: height: 400 width: 200 time: 1000 iterations: 0 GUI in Edtior(Solar2D) for transformation, draggable to set a position\nPOST /layers/panel/button classes: - button All together\nPOST /layers - logo: [] classes: - animation - panel: - message: [] - button: [] classes: - button - background: [] "},{"uri":"https://kwiksher.github.io/kwik5docs/design/tools/","title":"Tools","tags":[],"description":"","content":"Tools Exporrter plugin for PS, XD\nUXP\nexport images export source code traverse photoshop layers\nscenes/pageX/**/*.lua\nkwik-exporter\\src\\photoshop\\publishCode.ts\ntraverse App/contentX/\ncommands/pageX/ for envets components/pageX for components such as audios,groups .. scenes/pageX for layers from Photoshop and attached animation, button generate_scene_index\\generate_models.lua\nmerge the both results to ouput scenes/pageX/index.lua ⭐️\nlocal sceneName = ... -- local scene = require(\u0026#39;controller.scene\u0026#39;).new(sceneName, { name = \u0026#34;page01\u0026#34;, layers = {{bg = {}}, {layerX = {types={button}}}}, components = { audios = {}, groups = {}, others = {}, timers = {}, variables = {} }, events = {\u0026#34;bg.clickLayer\u0026#34;}, onInit = function(scene) print(\u0026#34;onInit\u0026#34;) end }) return scene develop/UXP/kwik-exporter\nA layer set is exported as one single image if assets/images/pageX has the foler with the same name of the layer set.\nexport images\nexport props\noutput .json/.lua develop\\UXP\\kwik-exporter\\plugin\\kwik\\templates\\components\\\nlayer_image.json layer_image.lua (TODO) Update develop\\Solar2D\\template to sync with the two files.\n(TODO) UXP/plugin/kwik/template is a clone of template/App/contentX\n├─Solar2D │ ├─robotlegs │ │ ├─App │ │ │ ├─book │ │ │ │ ├─assets │ │ │ │ │ ├─images │ │ │ │ │ │ └─page01 │ │ │ │ ├─models │ │ │ │ │ └─page01 │ │ │ │ │ └─layers │ │ │ │ └─scenes │ │ │ │ └─page01 │ ├─template │ │ ├─App │ │ │ └─contentX │ │ │ ├─assets │ │ │ ├─commands │ │ │ │ └─pageX │ │ │ ├─components │ │ │ │ ├─pageX │ │ │ │ │ ├─audios │ │ │ │ │ ├─groups │ │ │ │ │ ├─interactions │ │ │ │ │ │ └─page │ │ │ │ │ ├─others │ │ │ │ │ │ ├─ext_lib_codes │ │ │ │ │ │ ├─page │ │ │ │ │ │ └─store │ │ │ │ │ ├─timers │ │ │ │ │ └─variables │ │ │ │ └─store │ │ │ ├─models │ │ │ │ └─pageX │ │ │ │ ├─events │ │ │ │ └─layers │ │ │ └─scenes │ │ │ └─pageX │ │ │ ├─animations │ │ │ ├─images │ │ │ ├─interactions │ │ │ ├─physics │ │ │ └─replacements │ │ │ ├─particles │ │ │ ├─sprites │ │ │ ├─syncAudioText │ │ │ ├─videos │ │ │ └─www │ └─tools │ ├─kwik-editor └─UXP └─kwik-exporter ├─plugin │ ├─icons │ └─kwik │ ├─templates │ │ ├─components │ │ │ └─kwik │ │ ├─model │ │ │ ├─components │ │ │ ├─events │ │ │ └─layers │ │ └─scenes Editor\nSolar2D Desktop App\n/develop/Solar2D/tools/kwik-editor (Maybe) Web App (React)\nREST Server\nreceives Props and Commands and then renders .lua/.json\n/develop/Solar2D/tools/pegasus-harness\n/develop/Solar2D/tools/pegasus-launcher\nUtilities\ngenerating scene/pageX/index.lua\nthe table in the index.lua is created by interating files in App/bookX/components and bookX/commands\nscafolding (optional)\nit outputs .lua files to components and commands folder by reading scene/pageX/index.lua\n/develop/Solar2D/tools/generate_scene_index\n"},{"uri":"https://kwiksher.github.io/kwik5docs/design/tools/plugins/","title":"UXP Plugins","tags":[],"description":"","content":"UXP Plugins Kwik4 created a project folder where psd files are placed. Kwik5 you can creat a folder for your psd files on your own. When Kwik Exporter opens, it asks for the folder location.\nExporter plugins for PS, XD develop/UXP/kwik-exporter\nthe folder name/path is saved in a json\nPhotoshop Files\nOpen psd files from a folder\nDrag \u0026amp; Drop to change the order of psd files\none psd file corresponds one scene in Solar2D code.\na psd can be marked for being ignored. .ignore file?\nSolar2D Project\nApp/book folder should be selected\nPublish\nselected psd files\nActive Document\nExport images Export code Layer Groups\nYou can export images of a layer group\nPublish all images of selected documents\nmark checkboxes of document\u0026rsquo;s names you want to publish https://developer.adobe.com/xd/uxp/uxp/reference-spectrum/User%20Interface/\nspectrum tableview is not yet supported in UXP\nhttps://react-spectrum.adobe.com/react-spectrum/TableView.html\n- Ctl(Win) or Option(Mac) + Space key toggles selection for the focused row - toggle all on/off clcik\nopendFileDialog asks a book folder under App folder.\nActive Document Export Images for an active document document\nopen .psd by cliking the psd name in the list\nKwik4_1280x1920.psd with background image 1440x2776\nkwik5 does not request the canvas size of .psd as 1280x1920 when publising\nclcik Export Images\nopenFileDialog asks a book folder under App folder.\nActive Document Export each image of a layerSet(layer group) in .psd\ncreate a folder with same name as layerSet in book/assets/images/FILE_NAME_OF_PSD\nfor instance, \u0026ldquo;bg\u0026rdquo; is a layer group of kwik4_1280x1920.psd\nyou can manually create the bg folder under App/book/assets/images/kwik4_1280x1920 so the export images function knows where to put images of sub layers of a group.\nIf such no folder with the same name as a layer group, the one image of a layer group is exported.\nA concept of Kwik5 is to use App folder as a project base. It is a kind of file based database where .json, .lua and assets files are placed. No more .kwk xml file of Kwik4\nDireclty Editing a file under App folder while running Solar2D Simulator means a live editing. No more build4 folder of Kwik4 either\nTODO Active Document \u0026gt; Layer Selection Only\nEditor Frontend for PS, XD ref Anima plugin for Adobe XD\n"},{"uri":"https://kwiksher.github.io/kwik5docs/design/workflow/","title":"Workflow","tags":[],"description":"","content":"Workflow Overview\nput .png/.jpg into App/contentX/assets/images manually or use kwik-export plugin for Ps/XD to publish images to App folder\nimages without coordinates images with coordinates from Ps, XD with kwik-export plugin models/assets/images/*.json kwik-editor traverses the assets folder to output .json for models and .lua for scenes/pageX and components/pageX\nkwik-generate-model kwik-generate-index kwik-scaffold-lua you can edit props or positions of images or attach a type of class such as animation, button \u0026hellip;\nyou can creat an event and a corresponding action of code such as playAnimation, hideLayer, playAudio \u0026hellip;\nif you manually add a .lua file, you need to update scenes/pageX/index.lua too. You can use kwik-generate-index that traverses pageX folder of commands, components and scenes for synclonizing the lisf of .lua for pageX context defined in the index.lua.\n1. assets ├── App ├── contentX ├── assets ├── audios │ ├── sounds │ ├── streams │ └── sync ├── images │ └── pageX │ ├── bg.png ├── folder | ├─ .png | └── .png └── .png 1-1 images Manually put images in App/contentX/images/pageX folder\nkwik-generate-model\nit creates .json under models folder\nAlternatively\nPhotoshop\nselect .psd files to export kwik-export plugin create folders for a layer group in order to export each image of the group\nthe plugin exports index.json too\nassets/images/.png models/scenes/pageX/index.json ├── models │ ├── assets │ │ ├── audios │ │ │ ├── sounds │ │ │ ├── streams │ │ │ └── sync │ │ ├── index.json │ │ ├── images | | ├── pageX | | ├── layerX.json (ReadOnly) │ ├── pageX │ ├── index.json │ └── layers │ ├── layerX.json (RW from KwikLiveEditor) later you edit it with KwikLiveEditor, then layerX.json is created under models/pageX/layers folder. images/pageX/layerX.json is readonly.\n1-2 audios put audio files under assets/audios folder\n. ├── assets │ ├── audios │ │ ├── sounds │ │ │ └── ballsCollide.mp3 │ │ ├── streams │ │ │ ├── Gentle-Rain.mp3 │ │ │ └── Tranquility.mp3 │ │ └── sync │ │ ├── en │ │ │ ├── cat.mp3 │ │ │ ├── kwik.mp3 │ │ │ └── narration.mp3 │ │ ├── jp │ │ │ ├── cat.mp3 │ │ │ ├── kwik.mp3 │ │ │ └── narration.mp3 │ │ ├── pageX_Text1.mp3 │ │ ├── pageX_Text1.txt │ │ ├── page02_Text1.mp3 │ │ └── page02_Text1.txt kwik-generate-model\ncreates .json under models/assets/audios\n├── models │ ├── assets │ │ ├── audios │ │ │ ├── sounds | | | | ├── audioX.json │ │ │ ├── streams │ │ │ └── sync │ │ ├── index.json │ │ ├── images │ ├── pageX │ ├── index.json kwik-editor\naudio files are not subjected to a page yet. So you can assign an audio to any pages with the tool.\nedit audio properties\nauto play channnel \u0026hellip; models/assets/audios/sounds/audioX.json\n{ \u0026#34;name\u0026#34;:\u0026#34;audioX\u0026#34;, \u0026#34;autoPlay\u0026#34;:false, \u0026#34;channel\u0026#34;:2, \u0026#34;type\u0026#34;:\u0026#34;sound\u0026#34; } you assign an audio entry to a page with kwik-editor. Then the tool adds the entry in models/pageX/index.json\npageX/index.json\n{ \u0026#34;components\u0026#34;: [ { \u0026#34;audios\u0026#34;: [ {\u0026#34;name\u0026#34;:\u0026#34;audioX\u0026#34;, \u0026#34;type\u0026#34;:\u0026#34;sound\u0026#34;}, ] } ], \u0026#34;events\u0026#34;: [], \u0026#34;layers\u0026#34;: [] } "},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/components/animation/","title":"Animation","tags":[],"description":"","content":"Animation "},{"uri":"https://kwiksher.github.io/kwik5docs/bookstore/","title":"Bookstore","tags":[],"description":"","content":"Bookstore TODO\nlibrary.psd, dialog.psd, textLabels.psd page_custscene.psd\nrestore.psd showOverlay will be used\nlibrary filter\nAll/Downloaded/NotPurchased build.settings\nomit App/bookX/assets library page portrait\nrestore\ndownload all status recovered (downloaded) book scroll view for library/table page\nUXP\ncp components/bookstore/booktoreX.lua to bookTOC/scenes/library\nadd filter in library page\nCan create a storybook like? navigation bar?\nTest versions\nBookstore app contains the multiple kwik projects(books) inside. The lua files of each book are embedded in the app binary but the assets such as images, audio files of each book are not embedded in the app binary. They are downloadable from a web server. Due to Apple\u0026rsquo;s regulation, Solar2D does not allow to load the lua files (programming code) via Internet. The lua files must be embedded in the app binary but the other assets can be transfered from http server to the app.\nA library page controls which book to be loaded with In App Purchase. User clicks a book icon on thubnail view on a library page, and a purchase dialog appears if user wants to buy one. A project called bookTOC(Table Of Content) contains library.psd and dialog.psd\nWhen you like to add new books, you need to update the model.lua of bookTOC to include a new book information.\nYou can create as many as books but Bookstore is not designed to hold hundreds of books.\nSample file Please download the sample project from here.\nPhotoshop ├── bookFree │ ├── page1.psd │ └── page2.psd ├── bookOne │ ├── page1.psd │ └── page2.psd └── bookTOC ├── dialog.psd └── library.psd Solar2D ├── App │ ├── bookFree │ ├── bookOne │ └── bookTOC │ ├── components | ├── bookstore | └── model.lua └── main.lua BookServer ├── compress_assets | └── main.lua └── bookstore ├── bookFree └── bookOne BooKServer\ncopy_books script archives each assets.zip of books into BookServer/bookstore folder.\nUsing node.js, install http-server and run\ncd BookServer http-server Set the url of http://localhost:8080/bookstore to Solar2D/components/bookstore/model.lua\nlocal M = require(\u0026#34;components.bookstore.model.base\u0026#34;) -- M.debug = true M.URL = \u0026#34;http://localhost:8080/bookstore/\u0026#34; ... ... Solar2D\nOpen main.lua with the simulator Solar2D Solar2D project has main.lua in the root directory.\n├─App │ ├─book01 │ ├─book02 │ └─bookTOC ├─extlib ├─lib build.settings config.lua main.lua main.lua\nThere is just one line to load \u0026ldquo;bookTOC\u0026rdquo; book\nrequire(\u0026#34;controller.index\u0026#34;).bootstrap({name=\u0026#34;bookTOC\u0026#34;, sceneIndex = 1}) -- scenes.index App/bookTOC/scenes/index.lua has a table of page names, so sceneIdex = 1 means to open library page.\nlocal scenes = { \u0026#34;library\u0026#34;, \u0026#34;dialog\u0026#34; } return scenes build.settings\nYou may need to add permissions for your app. The following permissions are default\nandroid = { usesPermissions = { \u0026#34;android.permission.INTERNET\u0026#34;, \u0026#34;android.permission.WRITE_EXTERNAL_STORAGE\u0026#34;, \u0026#34;com.android.vending.BILLING\u0026#34;, }, }, config.lua\nplease add google license key for android device.\nlicense = { google = { key = \u0026#34;Please set your google license key\u0026#34;, }, }, bookTOC library.psd shows the thumbnail of books and the buttons for purchase and download\nEach {{bookName}}Icon\nit is a placeholder and the following layers are copied to the position of each {{bookName}}Icon\ndownloadBtn savedBtn savingTxt purchaseBtn restoreBtn\nit restores a book purchased history from one of online store(Apple, Google, Amazon)\ndilaog.psd shows a book image and the IAP buttons and information text\ndownloadBtn savedBtn savingTxt purchaseBtn infoTxt hideOverlayBtn bookFree page1.psd\npage2.psd\nshows the following goto buttons\nGoto TOC\nGOto page1\nGoto Next Book\nbookOne page1.psd\npage2.psd Goto TOC GOto Title Goto Previous Book BookServer Please use the script to zip the image, audio files as zip files\ncompress_assets/main.lua for Corona Simulator\ncommand.setServerFolder(\u0026#34;macos\u0026#34;, \u0026#34;bookstore\u0026#34;) --command.setServerFolder(\u0026#34;win32\u0026#34;, \u0026#34;bookstore\u0026#34;) local books = { {project = \u0026#34;bookFree\u0026#34;, serverFolder = \u0026#34;bookFree\u0026#34;}, {project = \u0026#34;bookOne\u0026#34;, serverFolder = \u0026#34;bookOne\u0026#34;}, } local onLineImages = { {project = \u0026#34;bookFree\u0026#34;, serverFolder = \u0026#34;bookFree\u0026#34;, image = \u0026#34;assets/images/page1/bg@4x.png\u0026#34;}, {project = \u0026#34;bookOne\u0026#34;, serverFolder = \u0026#34;bookOne\u0026#34;, image = \u0026#34;assets/images/page1/bg@4x.png\u0026#34;}, } ... ... "},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/components/","title":"Components","tags":[],"description":"","content":"Components example bookFree/page1\n. ├── assets ├── commands ├── components \u0026lt;==== page components │ ├── page1 │ │ ├── audios │ │ ├── groups │ │ ├── page │ │ ├── times │ │ └── variables │ └── page2 ├── main.lua ├── mediators ├── models │ ├── page1 │ │ ├── bg.json │ │ ├── events │ │ │ └── eventOne.json │ │ ├── gotoBtn.json │ │ ├── gotoBtn_animation.json \u0026lt;=== animation component json │ │ ├── index.json │ │ ├── title.json │ │ └── title_animation.json \u0026lt;=== animation component json │ └── page2 ├── scenes ├── index.lua ├── page1 │ ├── bg.lua │ ├── gotoBtn.lua │ ├── gotoBtn_animation.lua \u0026lt;=== animation component lua │ ├── index.lua │ ├── title.lua │ └── title_animation.lua \u0026lt;=== animation component lua └── page2 "},{"uri":"https://kwiksher.github.io/kwik5docs/design/tools/editor/","title":"Editor","tags":[],"description":"","content":"Editor React Solar2D Kwik functions\nCommand\nFile\nProject New Project Open Project Recent Page New Edit\nPaste/Copy components Delete pages components Publish\nCompress PNGs \u0026ndash; TBI notarized compress.app in Kwik Assemble PNGs A-Gif or A-PNG Publish Images One page or Selected pages Open Solar2D simulator options Enable child components \u0026ndash; TBI as layerSet as a group or independent option Debug show memory (trace/print control) Spritsheet @2x Importer for a Kwik3 project\nLicense\nPerpetual or Subscription Activate Transfer Proxy Settings Template \u0026ndash; TBI as auto update from kwiksher.com and store it as global\nCopy global to local for customization Auto update - TBI\nnotarization and store updater.app in kwik5 Language\nEnglish or Japanese Samples\nAfraid (Get Started) Actions Animations Canvas Multi Lingual Layer Replacements Physics Project And Pages Structure\nProject Properties\nIcon Splash screen Letter/ZoomEven/ZoomStretch Navigation Thumbnail Auto Bookmark Admob (Rating) IAP simple unlock bookshelf Bookshelf pages template embedded normal or versions Languages \u0026ndash; TBI as State in kwik5, global Upate Template Extended\nNormal or Component\nPage Properties\nContext \u0026ndash; load the page images using the context page Scale Enable page swipe Show in navigation Loading option Preload Template \u0026ndash; bookshelf template page Comic \u0026ndash; enable comic rendering for -panels, balloons, background Alias \u0026ndash; bookshelf: the page alias for a master template page IAP Unlock Show Ad Record screen Page components\nAudios Audio global or local Groups Group Change order Hide a group Simple Camera Frame Set Group with Audio with Variable with Common Hide Simple Responsive Random Position Scale Infinity Scroll States local State Actions Action Timers Timers Variables Variable global or local keep track Physics Environment (Joints) (Collisions) External codes \u0026ndash; global, local, self, ace editor? libraries codes onInit onCreate onShow onHide Layer Properties\nCommon\nHide Simple Responsive Random Position Scale Export as Jpeg save as Shared Asset Render as Infinity Scroll Set Group with Audio with Variable with States Gloabl Local Object Extenal Code - self Set Language \u0026ndash; TBI as State function gloal, local, object\nAnimation\nLinear Path Switch Image to Rotation Pulse Bounce Blink Shake Filter Replacements\nSpritesheet Simple Texture Packer Adobe Animate (Spine) Sync Text Audio (Lip Sync - Spine and Papagayo) Video normal or PNGs Web Vector Map Multiplier Particles Importer Editor Text Dynamic Static Input Countdown Mask Interactions\nButton Drag Swipe Pinch Spin Shake Scroll Parallax (Accelerometer) Canvas (Snapeshot Eraser) (Push - OneSignal) Physics\nBody Set Force Set Joint with Set Collision with "},{"uri":"https://kwiksher.github.io/kwik5docs/design/tools/webapp/","title":"REST Server","tags":[],"description":"","content":"Rest Server Get\nreturns .json of layer components(classes) or events/commands. It also returns default values of compoent properties\nPOST\nreceives Props of layers and Commands and then renders .lua components/commands. It also stores the request params in .json\n/develop/Solar2D/tools/pegasus-harness /develop/Solar2D/tools/pegasus-launcher "},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/components/audio/","title":"Audio","tags":[],"description":"","content":"Audio components/pageX/audios\nsounds/soundOne.lua streams/songOne.lua local Props = { name = \u0026#34;soundOne\u0026#34;, type = \u0026#34;sound\u0026#34;, autoPlay = true, channel = 2 } return Props scenes/pageX/index.lua\n{ name = \u0026#34;pageX\u0026#34;, layers = { {background={}}, }, components = { {audios = { {name=\u0026#34;soundOne\u0026#34;, type=\u0026#34;sound\u0026#34;}, {name=\u0026#34;songOne\u0026#34;, type=\u0026#34;stream\u0026#34;} }}, {others = { {nanostores={}} }} }, events = {}, } "},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/components/button/","title":"Button","tags":[],"description":"","content":"Button "},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/components/group/","title":"Group","tags":[],"description":"","content":"Group "},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/template/","title":"Template strurcture","tags":[],"description":"","content":"template structure ├── App ├── contentX ├── assets │ ├── audios │ │ ├── sounds │ │ ├── streams │ │ └── sync │ ├── images │ └── model.json ├── commands │ └── pageX ├── components │ ├── pageX │ │ ├── audios │ │ ├── groups │ │ ├── interactions │ │ │ └── page │ │ ├── others │ │ ├── timers │ │ └── variables │ └── store? ├── defaults │ ├── audio_properties.xml │ ├── layer_properties.xml │ ├── linear_anim_properties.xml │ └── spritesheet_properties.xml ├── mediators ├── models │ ├── assets │ │ ├── audios │ │ │ ├── sounds │ │ │ ├── streams │ │ │ └── sync │ │ ├── index.json │ │ ├── particles │ │ ├── sprites │ │ ├── videos │ │ └── www │ ├── lproj │ └── pageX │ ├── components │ │ ├── audios │ │ ├── groups │ │ ├── others │ │ ├── timers │ │ └── variables │ ├── events │ ├── index.json │ └── layers ├── scenes └── pageX ├── animations ├── images ├── interactions ├── physics └── replacements "},{"uri":"https://kwiksher.github.io/kwik5docs/design/sample-projects/","title":"Sample Projects","tags":[],"description":"","content":"Sample Projects sample-projects/SingleBook sample-projects/Pegasus sample-projects/Misc/Transition2 sample-projects/MusicLibrary sample-projects/MultilingualBook sample-projects/GameCenter "},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/components/spritesheet/","title":"Spritesheet","tags":[],"description":"","content":"Spritesheet "},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/template_model/","title":"Template Model","tags":[],"description":"","content":"Code Template Model assets/model/schema\nembedded in codes \u0026ndash; TBI to be extracted\nexternal codes - export it to .lua or can be imported directly physics path read2me - timecodes spritesheet info TODO:add ext codes\nextCodes libs p1 user_codes.lua ext_001.lua ext_002.lua commands/ button_name_001.lua action_name_001.lua user_codes.lua p2/ =\u0026gt; build4/\n```lua function ActionCommand:new() local command = {} -- function command:execute(params) local UI = params.UI local sceneGroup = UI.scene.view local layer = UI.layer local phase = params.event.phase local event = params.event {{#vvar}} {{vvar}} {{/vvar}} {{#arqCode}} {{arqCode}} {{/arqCode}} end return command end ``` or ext_lib_codes.lua ``` local _K = require \u0026quot;Application\u0026quot; {{#extLib}} local {{name}} = requireKwik(\u0026quot;{{libname}}\u0026quot;) {{/extLib}} -- {{#TV}} local kInputDevices = require(\u0026quot;extlib.tv.kInputDevices\u0026quot;) {{/TV}} function _M:localVars(UI) local sceneGroup = UI.scene.view local layer = UI.layer {{#extCodeTop}} {{ccode}} {{arqCode}} {{/extCodeTop}} end ``` model.json\n{ \u0026#34;page\u0026#34;:1,\u0026#34;alias\u0026#34;:\u0026#34;title\u0026#34;,\u0026#34;isTmplt\u0026#34;:false, \u0026#34;audios\u0026#34;:[null], \u0026#34;read2me\u0026#34;:[null], \u0026#34;videos\u0026#34;:[null], \u0026#34;PNGs\u0026#34;:[null], \u0026#34;sprites\u0026#34;:[null], \u0026#34;particles\u0026#34;:[null], \u0026#34;WWW\u0026#34;:[null], \u0026#34;thumbnails\u0026#34;:[null], \u0026#34;images\u0026#34;:[ \u0026#34;bg@4x.png\u0026#34;, \u0026#34;bg@2x.png\u0026#34;, \u0026#34;bg.png\u0026#34;, null ], \u0026#34;shared\u0026#34;:[ null ] } { \u0026#34;page\u0026#34;:{{page}},\u0026#34;alias\u0026#34;:\u0026#34;{{alias}}\u0026#34;,\u0026#34;isTmplt\u0026#34;:{{isTmplt}}, {{#layers}} \u0026#34;{{layer}}\u0026#34;:{ \u0026#34;x\u0026#34;:{{x}}, \u0026#34;y\u0026#34;:{{y}}, \u0026#34;width\u0026#34;:{{width}}, \u0026#34;height\u0026#34;:{{height}}, \u0026#34;alpha\u0026#34;:{{alpha}}, \u0026#34;ext\u0026#34;:\u0026#34;{{ext}}\u0026#34; }, {{/layers}} \u0026#34;audios\u0026#34;:[ {{#audios}}\u0026#34;{{filename}}\u0026#34;,{{/audios}} null], \u0026#34;read2me\u0026#34;:[ {{#read2me}}{\u0026#34;foldername\u0026#34;:\u0026#34;{{foldername}}\u0026#34;, \u0026#34;filenames\u0026#34;:[{{#filenames}}\u0026#34;{{.}}\u0026#34;,{{/filenames}} null] },{{/read2me}} null], \u0026#34;videos\u0026#34;:[ {{#videos}}\u0026#34;{{filename}}\u0026#34;,{{/videos}} null], \u0026#34;PNGs\u0026#34;:[ {{#PNGs}}\u0026#34;{{foldername}}\u0026#34;,{{/PNGs}} null], \u0026#34;sprites\u0026#34;:[ {{#sprites}}\u0026#34;{{filename}}\u0026#34;,{{/sprites}} null], \u0026#34;particles\u0026#34;:[ {{#particles}}{\u0026#34;filename\u0026#34;:\u0026#34;{{filename}}\u0026#34;,\u0026#34;PNG\u0026#34;:\u0026#34;{{PNG}}\u0026#34;},{{/particles}} null], \u0026#34;WWW\u0026#34;:[ {{#WWW}}{\u0026#34;filename\u0026#34;:\u0026#34;{{filename}}\u0026#34;,\u0026#34;foldername\u0026#34;:\u0026#34;{{foldername}}\u0026#34;},{{/WWW}} null], \u0026#34;thumbnails\u0026#34;:[ {{#thumbnails}}{{#filenames}}\u0026#34;{{.}}\u0026#34;,{{/filenames}} {{/thumbnails}}null], \u0026#34;images\u0026#34;:[ {{#images}} \u0026#34;{{filename}}@4x.{{filetype}}\u0026#34;, \u0026#34;{{filename}}@2x.{{filetype}}\u0026#34;, \u0026#34;{{filename}}.{{filetype}}\u0026#34;, {{/images}} null ], \u0026#34;shared\u0026#34;:[ {{#shared}} \u0026#34;{{filename}}@4x.{{filetype}}\u0026#34;, \u0026#34;{{filename}}@2x.{{filetype}}\u0026#34;, \u0026#34;{{filename}}.{{filetype}}\u0026#34;, {{/shared}} null ] } "},{"uri":"https://kwiksher.github.io/kwik5docs/design/tools/utilities/","title":"Utilities","tags":[],"description":"","content":"Utilities /develop/Solar2D/tools/yaml2lua\nthere is a vscode extention to convert yaml to json , json to yaml etc\n- name: Loading01 from: from to: x: 100 y: 100 alpha: 1 duration: 2000 xScale: 1.5 yScale: 1.5 rotation: 0 controls: restart: false easing: Linear reverse: false delay: 1000 loop: 1 angle: 45 xSwipe: 0 ySwipe: 0 referncePoint: Center breadcrumbs: dispose: true shape: \u0026#34;\u0026#34; color: - 1 - 0 - 1 interval: 300 time: 2000 width: 30 height: 30 lua\n{ breadcrumbs = { color = { 1, 0, 1 }, dispose = true, height = 30, interval = 300, shape = \u0026#34;\u0026#34;, time = 2000, width = 30 }, controls = { referncePoint = \u0026#34;Center\u0026#34;, angle = 45, delay = 1000, easing = \u0026#34;Linear\u0026#34;, loop = 1, restart = false, reverse = false, xSwipe = 0, ySwipe = 0 }, from = \u0026#34;from\u0026#34;, name = \u0026#34;Loading01\u0026#34;, to = { alpha = 1, duration = 2000, rotation = 0, x = 100, xScale = 1.5, y = 100, yScale = 1.5 } } } /develop/Solar2D/tools/generate_scene_index (TODO update ⭐️)\ngenerating scene/pageX/index.lua\nindex.lua is created by iterating files from\nApp/conentX/scene/pageX App/contentX/components/pageX App/conentX/commands/pageX scafolding (optional)\nit outputs .lua files to components and commands folder by reading scene/pageX/index.lua\n"},{"uri":"https://kwiksher.github.io/kwik5docs/design/project_model/components/sync_audio_text/","title":"Sync Audio&amp;Text","tags":[],"description":"","content":"Sync Audio \u0026amp; Text "},{"uri":"https://kwiksher.github.io/kwik5docs/design/new_features/","title":"New Features","tags":[],"description":"","content":"New Features Solar2D API to be included\nAudio\nseek rewind cross fade function Social\ntwitter facebook instagram transition.*\nchaining them mesh\n2.5D — Perspective and Depth\ngame controllers\nSolar2D video texture\nhttps://github.com/ANSH3LL/plugin_movie Tiled\nhttps://forums.solar2d.com/t/smooth-scrolling-of-top-down-tiled-map/150199/2\n\u0026ldquo;cull based on a 3x3 area of sub-screens centered around player. \u0026quot;\nhttps://gamedev.stackexchange.com/questions/83253/is-there-any-way-to-load-pieces-of-a-tile-map-as-and-when-needed-and-not-the-en\nhttps://www.dynetisgames.com/2018/02/24/manage-big-maps-phaser-3/\nA tool to split an existing Tiled tilemap into chunks How to reason about chunks based on their ID’s and the world dimensions How to load and destroy them on the fly using Phaser 3 Texture atlas function in kwik?\nhttps://github.com/shama/atlaspack\nhttp://free-tex-packer.com/\nhttps://github.com/odrick/free-tex-packer\nhttps://github.com/richardjdare/Atlasmaker\nhttps://github.com/soimy/atlasify ⭐️\nhttps://github.com/soimy/maxrects-packer Audio sprites?\nhttps://medium.com/game-development-stuff/how-to-create-audiosprites-to-use-with-howler-js-beed5d006ac1 Interactive\ntexture atlas \u0026ndash; Spine spritesheet \u0026ndash; Adobe Animate movie \u0026ndash; Adobe Animate Lottie ts to lua? ⭐️\nhttps://github.com/bytedance/lottiefy https://github.com/airbnb/lottie-web https://github.com/LottieFiles https://lottiefiles.com/what-is-lottie "},{"uri":"https://kwiksher.github.io/kwik5docs/all/","title":"all","tags":[],"description":"","content":""},{"uri":"https://kwiksher.github.io/kwik5docs/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"https://kwiksher.github.io/kwik5docs/tags/","title":"Tags","tags":[],"description":"","content":""}]